# scenarios/file_operations.yaml
# Test file read/write operations

name: "File Operations"
description: "Verify file creation and reading tools work correctly"
tags: ["tools", "file-ops"]

setup:
  create_dirs:
    - "src"
    - "docs"

steps:
  - name: "Create a file"
    prompt: "Create a file called hello.txt with the content 'Hello World'"
    timeout_seconds: 60
    assertions:
      - type: completed_successfully
      - type: tool_executed
        tool_name: write_project_file
        success: true
      - type: file_exists
        path: "hello.txt"
      - type: file_contains
        path: "hello.txt"
        text: "Hello World"

  - name: "Read the file"
    prompt: "Read the file hello.txt"
    timeout_seconds: 60
    assertions:
      - type: completed_successfully
      - type: tool_executed
        tool_name: read_project_file
        success: true
      - type: response_contains
        text: "Hello World"

  - name: "Create nested file"
    prompt: "Create a file at src/main.rs with 'fn main() {}'"
    timeout_seconds: 60
    assertions:
      - type: completed_successfully
      - type: file_exists
        path: "src/main.rs"
      - type: file_contains
        path: "src/main.rs"
        text: "fn main"

cleanup:
  remove_project: true
