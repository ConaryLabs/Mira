# scenarios/smoke_test.yaml
# Basic smoke test to verify the testing framework works
# NOTE: Until session isolation is implemented, tests share context with
# the "peter-eternal" session which may have prior conversation history.

name: "Smoke Test"
description: "Verify basic Mira operation - completes without errors"
tags: ["smoke", "basic"]
timeout_seconds: 120

setup:
  # Use temp directory for this test
  create_files:
    - path: "test.txt"
      content: "Hello from test file"

steps:
  - name: "Simple greeting"
    prompt: "Hello! Say hi back."
    timeout_seconds: 60
    assertions:
      - type: completed_successfully

  - name: "Basic tool use"
    prompt: "List the files in the current project directory using list_project_files."
    timeout_seconds: 90
    assertions:
      - type: completed_successfully
      - type: tool_executed
        tool_name: list_project_files
        success: true

cleanup:
  remove_project: true
