# scenarios/git_operations.yaml
# Test git-related operations

name: "Git Operations"
description: "Verify git tools work correctly (status, diff, log)"
tags: ["tools", "git"]
timeout_seconds: 180

setup:
  create_files:
    - path: "README.md"
      content: |
        # Test Project
        This is a test project for git operations.
    - path: "src/main.rs"
      content: |
        fn main() {
            println!("Hello, world!");
        }

steps:
  - name: "Initialize git repo"
    prompt: "Initialize a git repository in this project directory and create an initial commit with all files"
    timeout_seconds: 60
    assertions:
      - type: completed_successfully
      - type: response_contains
        text: "commit"

  - name: "Check git status"
    prompt: "Show me the git status of this repository"
    timeout_seconds: 60
    assertions:
      - type: completed_successfully
      - type: response_contains
        text: "clean"

  - name: "View git log"
    prompt: "Show me the git log for this repository"
    timeout_seconds: 60
    assertions:
      - type: completed_successfully
      - type: response_contains
        text: "commit"

cleanup:
  remove_project: true
